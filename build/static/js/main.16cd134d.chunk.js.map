{"version":3,"sources":["services/login.js","components/LoginForm.js","components/Notification.js","reducers/notificationReducer.js","services/users.js","reducers/userReducer.js","containers/Login.js","containers/Logout.js","components/Blog.js","components/BlogForm.js","components/Togglable.js","services/blogs.js","reducers/blogReducer.js","containers/Blogs.js","containers/Blog.js","containers/Users.js","containers/User.js","App.js","store.js","index.js"],"names":["services_login","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","this","_x","apply","arguments","LoginForm","props","react_default","createElement","onSubmit","FormGroup","ControlLabel","FormControl","type","value","username","onChange","handleUsernameChange","password","handlePasswordChange","Button","bsStyle","block","Notification","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","key","notification","style","notificationType","Alert","React","Component","connect","state","message","initialState","notify","messageType","sec","dispatch","setTimeout","notificationReducer","length","undefined","action","services_users","get","then","users","user","setUser","_ref2","_callee2","_context2","window","localStorage","setItem","JSON","stringify","_x2","userReducer","userId","_id","find","element","id","newUsers","filter","newBlog","title","author","likes","blogs","push","newBlogs","Login","_this","call","event","setState","target","handleLogin","preventDefault","loginService","t0","components_Notification","components_LoginForm","mapDispatchToProps","theUser","Logout","logout","removeItem","location","replace","Navbar","fluid","Nav","lib","to","NavItem","name","Form","onClick","bsSize","Blog","blog","className","Link","concat","BlogForm","handleCreate","tila","newTitle","handleTitleChange","newAuthor","handleAuthorChange","newUrl","handleUrlChange","Togglable","toggleVisibility","visible","hideWhenVisible","display","showWhenVisible","buttonLabel","children","services_blogs","getAll","addBlog","token","headers","Authorization","likeBlog","putUrl","baseUrl","put","_x3","_x4","deleteBlog","_ref3","_callee3","blogId","delUrl","_context3","delete","_x5","_x6","commentBlog","_ref4","_callee4","comment","postUrl","newComment","_context4","_x7","_x8","blogReducer","slice","Blogs","url","blogForm","_this2","sort","b","map","components_Blog","components_Togglable","ref","component","components_BlogForm","blogService","handleCommentChange","likeThisBlog","getAttribute","deleteThisBlog","delId","confirm","history","exception","commentThisBlog","comments","showDeleteButton","userName","showUser","href","ListGroup","ListGroupItem","_ref5","_callee5","commentedBlog","_context5","Users","Table","striped","bordered","condensed","User","_getPrototypeOf2","_len","args","Array","_key","reload","getTheBlogs","theBlogs","forEach","ownProps","theUserId","App","_componentDidMount","loggedUserJSON","initializeBlogs","initializeUsers","getItem","parse","containers_Login","BrowserRouter","containers_Logout","Route","exact","path","render","containers_Blogs","match","containers_Blog","params","containers_Users","containers_User","userService","reducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","es","src_App","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.16cd134d.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport { FormGroup, ControlLabel, FormControl, Button } from 'react-bootstrap'\r\n\r\nconst LoginForm = (props) => (\r\n  <form onSubmit={props.login}>\r\n    <FormGroup>\r\n      <ControlLabel>username:</ControlLabel>\r\n        <FormControl\r\n          type=\"text\"\r\n          value={props.username}\r\n          onChange={props.handleUsernameChange}\r\n        />\r\n        <ControlLabel>password:</ControlLabel>\r\n        <FormControl\r\n          type=\"password\"\r\n          value={props.password}\r\n          onChange={props.handlePasswordChange}\r\n        />\r\n        <br />\r\n      <Button type=\"submit\" bsStyle=\"primary\" block>Login</Button>\r\n    </FormGroup>\r\n  </form>\r\n)\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\n\r\nexport class Notification extends React.Component {\r\n  render() {\r\n    if (this.props.notification === null || this.props.notification === '') {\r\n      return <div></div>\r\n    }\r\n    let style= this.props.notificationType !== 'error' ? 'info': 'danger'\r\n    return (\r\n      <Alert bsStyle={style}>\r\n        {this.props.notification}\r\n      </Alert>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    notification: state.notification.message,\r\n    notificationType: state.notification.type\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Notification)\r\n","const initialState = {\r\n  message: '',\r\n  type: 'info'\r\n}\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'NOTIFY':\r\n      return {\r\n        message: action.data.message,\r\n        type: action.data.type\r\n      }\r\n    case 'CLEAR':\r\n      return {\r\n        message: '',\r\n        type: 'info'\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const notify = (message, messageType, sec) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'NOTIFY',\r\n      data: {\r\n        message: message,\r\n        type: messageType\r\n      }\r\n    })\r\n    await setTimeout(() => {\r\n      dispatch({\r\n        type: 'CLEAR',\r\n        data: {\r\n          message: '',\r\n          type: 'info'\r\n        }\r\n      })\r\n    }, sec * 1000)\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll }","import userService from '../services/users'\r\n\r\nconst initialState = {\r\n  users: [],\r\n  user: null\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'INITIALIZE': {\r\n      return {\r\n        users: action.data,\r\n        user: null\r\n      }\r\n    }\r\n    case 'ADD_BLOG': {\r\n      let userId = action.data.user._id\r\n      let user = state.users.find((element) => element.id === userId)\r\n      let newUsers = state.users.filter((element) => element.id !== userId)\r\n      let newBlog = { _id: action.data.id, title: action.data.title, author: action.data.author, likes: action.data.likes }\r\n      user.blogs.push(newBlog)\r\n      newUsers.push(user)\r\n      return {\r\n        users: newUsers,\r\n        user: state.user\r\n      }\r\n    }\r\n    case 'DELETE_BLOG': {\r\n      let userId = action.data.user._id\r\n      let user = state.users.find((element) => element.id === userId)\r\n      let newUsers = state.users.filter((element) => element.id !== userId)\r\n      let newBlogs = user.blogs.filter((element) => element._id !== action.data.id)\r\n      user.blogs = newBlogs\r\n      newUsers.push(user)\r\n      return {\r\n        users: newUsers,\r\n        user: state.user\r\n      }\r\n    }\r\n    case 'SET_USER': {\r\n      return {\r\n        users: state.users,\r\n        user: action.data\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializeUsers = () => {\r\n  return async (dispatch) => {\r\n    const users = await userService.getAll()\r\n    dispatch({\r\n      type: 'INITIALIZE',\r\n      data: users\r\n    })\r\n  }\r\n}\r\nexport const setUser = (user) => {\r\n  return async (dispatch) => {\r\n    window.localStorage.setItem('blogUser', JSON.stringify(user))\r\n    dispatch({\r\n      type: 'SET_USER',\r\n      data: user\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default userReducer","// @flow\r\nimport React from 'react'\r\nimport loginService from '../services/login'\r\nimport LoginForm from '../components/LoginForm'\r\nimport Notification from '../components/Notification'\r\nimport { notify } from '../reducers/notificationReducer'\r\nimport { setUser } from '../reducers/userReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  }\r\n\r\n  handleUsernameChange = (event) => {\r\n    this.setState({ username: event.target.value })\r\n  }\r\n\r\n  handlePasswordChange = (event) => {\r\n    this.setState({ password: event.target.value })\r\n  }\r\n\r\n  handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username: this.state.username,\r\n        password: this.state.password\r\n      })\r\n      this.props.setUser(user)\r\n    }\r\n    catch (exception) {\r\n      this.props.notify('Invalid username or password', 'error', 5)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Log in to application</h2>\r\n        <Notification />\r\n        <LoginForm\r\n          username={this.state.username}\r\n          password={this.state.password}\r\n          handleUsernameChange={this.handleUsernameChange}\r\n          handlePasswordChange={this.handlePasswordChange}\r\n          login={this.handleLogin}\r\n        ></LoginForm>\r\n      </div >\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    theUser: state.users.user\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  notify,\r\n  setUser\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","// @flow\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Navbar, Nav, NavItem, Button } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nclass Logout extends React.Component {\r\n\r\n  logout = (event) => {\r\n    event.preventDefault()\r\n    window.localStorage.removeItem('blogUser')\r\n    window.location.replace('/')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Blogs</h2>\r\n        <Navbar fluid>\r\n          <Nav>\r\n            <LinkContainer to='/'>\r\n              <NavItem >Blogs</NavItem>\r\n            </LinkContainer>\r\n            <LinkContainer to='/users'>\r\n              <NavItem >Users</NavItem>\r\n            </LinkContainer>\r\n            <NavItem >{this.props.theUser.name} logged in</NavItem>\r\n            <NavItem >\r\n              <Navbar.Form>\r\n                <Button onClick={this.logout} bsSize='xsmall'>logout</Button>\r\n              </Navbar.Form>\r\n            </NavItem>\r\n          </Nav>\r\n        </Navbar>\r\n      </div >\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    theUser: state.users.user\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(Logout)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Blog = ({ blog }) => {\r\n  return (\r\n    <div className='blogList'>\r\n      <Link id='detailLink' to={`/blogs/${blog.id}`}>{blog.title} {blog.author}</Link><br />\r\n    </div>\r\n  )\r\n}\r\n\r\nBlog.propTypes = {\r\n  blog: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Blog","import React from 'react'\r\nimport { FormGroup, ControlLabel, FormControl, Button } from 'react-bootstrap'\r\n\r\nconst BlogForm = (props) => (\r\n  <form onSubmit={props.handleCreate}>\r\n    <FormGroup>\r\n      <div>\r\n        <ControlLabel>title:</ControlLabel>\r\n        <FormControl type=\"text\" value={props.tila.newTitle} onChange={props.handleTitleChange} />\r\n      </div>\r\n      <div>\r\n        <ControlLabel>author:</ControlLabel>\r\n        <FormControl type=\"text\" value={props.tila.newAuthor} onChange={props.handleAuthorChange} />\r\n      </div>\r\n      <div>\r\n        <ControlLabel>url:</ControlLabel>\r\n        <FormControl type=\"text\" value={props.tila.newUrl} onChange={props.handleUrlChange} />\r\n      </div>\r\n      <br />\r\n      <Button type=\"submit\" bsStyle=\"primary\" block>create</Button>\r\n    </FormGroup>\r\n  </form>\r\n)\r\n\r\nexport default BlogForm","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nclass Togglable extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      visible: false\r\n    }\r\n  }\r\n\r\n  toggleVisibility = () => {\r\n    this.setState({ visible: !this.state.visible })\r\n  }\r\n\r\n  render() {\r\n    const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\r\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' }\r\n\r\n    return (\r\n      <div>\r\n        <div style={hideWhenVisible}>\r\n          <Button id='create' onClick={this.toggleVisibility}>{this.props.buttonLabel}</Button>\r\n        </div>\r\n        <div style={showWhenVisible}>\r\n          {this.props.children}\r\n          <Button onClick={this.toggleVisibility}>cancel</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Togglable","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst addBlog = async (newBlog, token) => {\r\n  const response = await axios.post(baseUrl, newBlog, { headers: { Authorization: 'Bearer ' + token } })\r\n  return response.data\r\n}\r\n\r\nconst likeBlog = async (newBlog, token) => {\r\n  const putUrl = baseUrl + '/' + newBlog.id\r\n  const response = await axios.put(putUrl, newBlog, { headers: { Authorization: 'Bearer ' + token } })\r\n  return response.data\r\n}\r\n\r\nconst deleteBlog = async (blogId, token) => {\r\n  const delUrl = baseUrl + '/' + blogId\r\n  const response = await axios.delete(delUrl, { headers: { Authorization: 'Bearer ' + token } })\r\n  return response.data\r\n}\r\n\r\nconst commentBlog = async (blogId, comment) => {\r\n  const postUrl = baseUrl + '/' + blogId + '/comments'\r\n  const newComment = { comment: comment }\r\n  const response = await axios.post(postUrl, newComment)\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, addBlog, likeBlog, deleteBlog, commentBlog }","import blogService from '../services/blogs'\r\n\r\nconst initialState = {\r\n  blogs: []\r\n}\r\n\r\nconst blogReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'INITIALIZE_BLOGS': {\r\n      return {\r\n        blogs: action.data\r\n      }\r\n    }\r\n    case 'ADD_BLOG': {\r\n      let newBlogs = state.blogs.slice(0)\r\n      newBlogs.push(action.data)\r\n      return {\r\n        blogs: newBlogs\r\n      }\r\n    }\r\n    case 'DELETE_BLOG': {\r\n      return {\r\n        blogs: state.blogs.filter(element => element.id !== action.data.id)\r\n      }\r\n    }\r\n    case 'LIKE_BLOG': {\r\n      let newBlogs = state.blogs.filter((element) => element.id !== action.data.id)\r\n      newBlogs.push(action.data)\r\n      return {\r\n        blogs: newBlogs\r\n      }\r\n    }\r\n    case 'COMMENT_BLOG': {\r\n      let newBlogs = state.blogs.filter((element) => element.id !== action.data.id)\r\n      newBlogs.push(action.data)\r\n      return {\r\n        blogs: newBlogs\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializeBlogs = () => {\r\n  return async (dispatch) => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INITIALIZE_BLOGS',\r\n      data: blogs\r\n    })\r\n  }\r\n}\r\nexport const addBlog = (blog, token) => {\r\n  return async (dispatch) => {\r\n    const newBlog = await blogService.addBlog(blog, token)\r\n    newBlog.id = newBlog._id\r\n    dispatch({\r\n      type: 'ADD_BLOG',\r\n      data: newBlog\r\n    })\r\n  }\r\n}\r\nexport const deleteBlog = (blog, token) => {\r\n  return async (dispatch) => {\r\n    await blogService.deleteBlog(blog.id, token)\r\n    dispatch({\r\n      type: 'DELETE_BLOG',\r\n      data: blog\r\n    })\r\n  }\r\n}\r\nexport const likeBlog = (blog, token) => {\r\n  return async (dispatch) => {\r\n    await blogService.likeBlog(blog, token)\r\n    dispatch({\r\n      type: 'LIKE_BLOG',\r\n      data: blog\r\n    })\r\n  }\r\n}\r\nexport const commentBlog = (blog, comment) => {\r\n  return async (dispatch) => {\r\n    const commentedBlog = await blogService.commentBlog(blog.id, comment)\r\n    commentedBlog.id = commentedBlog._id\r\n    commentedBlog.user = blog.user\r\n    dispatch({\r\n      type: 'COMMENT_BLOG',\r\n      data: commentedBlog\r\n    })\r\n  }\r\n}\r\n\r\nexport default blogReducer","// @flow\r\nimport React from 'react'\r\nimport Blog from '../components/Blog'\r\nimport BlogForm from '../components/BlogForm'\r\nimport Notification from '../components/Notification'\r\nimport Togglable from '../components/Togglable'\r\nimport { addBlog } from '../reducers/blogReducer'\r\nimport { notify } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Blogs extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      newTitle: '',\r\n      newAuthor: '',\r\n      newUrl: ''\r\n    }\r\n  }\r\n\r\n  handleTitleChange = () => {\r\n    return (event) => {\r\n      event.preventDefault()\r\n      this.setState({ newTitle: event.target.value })\r\n    }\r\n  }\r\n\r\n  handleAuthorChange = () => {\r\n    return (event) => {\r\n      event.preventDefault()\r\n      this.setState({ newAuthor: event.target.value })\r\n    }\r\n  }\r\n\r\n  handleUrlChange = () => {\r\n    return (event) => {\r\n      event.preventDefault()\r\n      this.setState({ newUrl: event.target.value })\r\n    }\r\n  }\r\n\r\n  handleCreate = () => {\r\n    return async (event) => {\r\n      event.preventDefault()\r\n      if (this.state.newTitle === '' || this.state.newAuthor === '' || this.state.newUrl === '') {\r\n        this.props.notify('Title, author and url must be given', 'error', 5)\r\n        return\r\n      }\r\n      const newBlog = {\r\n        id: '123',\r\n        title: this.state.newTitle,\r\n        author: this.state.newAuthor,\r\n        url: this.state.newUrl\r\n      }\r\n      try {\r\n        await this.props.addBlog(newBlog, this.props.theUser.token)\r\n        this.setState({ newTitle: '' })\r\n        this.setState({ newAuthor: '' })\r\n        this.setState({ newUrl: '' })\r\n        this.blogForm.toggleVisibility()\r\n        this.props.notify(`a new blog ${newBlog.title} by ${newBlog.author} added`, 'info', 5)\r\n      }\r\n      catch (exception) {\r\n        this.props.notify('Error creating a new blog', 'error', 5)\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Notification />\r\n        {this.props.blogs\r\n          .sort((a, b) => a.likes > b.likes ? -1 : (a.likes < b.likes ? 1 : 0))\r\n          .map(blog =>\r\n            <Blog\r\n              key={blog.id}\r\n              blog={blog}\r\n            />\r\n          )}\r\n        <h2>Create new</h2>\r\n        <Togglable buttonLabel='new blog' ref={component => this.blogForm = component}>\r\n          <BlogForm\r\n            tila={this.state}\r\n            handleTitleChange={this.handleTitleChange()}\r\n            handleAuthorChange={this.handleAuthorChange()}\r\n            handleUrlChange={this.handleUrlChange()}\r\n            handleCreate={this.handleCreate()}\r\n          ></BlogForm>\r\n        </Togglable>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blogs.blogs,\r\n    theUser: state.users.user\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  notify,\r\n  addBlog\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Blogs)\r\n","// @flow\r\nimport React from 'react'\r\nimport Notification from '../components/Notification'\r\nimport { likeBlog, deleteBlog, commentBlog } from '../reducers/blogReducer'\r\nimport { notify } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { ListGroup, ListGroupItem, Button, FormGroup, FormControl } from 'react-bootstrap'\r\n\r\nexport class Blog extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      newComment: ''\r\n    }\r\n  }\r\n\r\n  handleCommentChange = (event) => {\r\n    event.preventDefault()\r\n    this.setState({ newComment: event.target.value })\r\n  }\r\n\r\n  likeThisBlog = async (event) => {\r\n    event.preventDefault()\r\n    let blog = this.props.blogs.find((element) => {\r\n      return element.id === event.target.getAttribute('id')\r\n    })\r\n    blog.likes++\r\n    try {\r\n      await this.props.likeBlog(blog, this.props.theUser.token)\r\n    }\r\n    catch (exception) {\r\n      this.props.notify('Error performing like functionality', 'error', 5)\r\n    }\r\n  }\r\n\r\n  deleteThisBlog = async (event) => {\r\n    event.preventDefault()\r\n    let delId = event.target.getAttribute('id')\r\n    let deleteBlog = this.props.blogs.find((element) => {\r\n      return element.id === delId\r\n    })\r\n    try {\r\n      if (window.confirm(`delete ${deleteBlog.title} by ${deleteBlog.author}`)) {\r\n        this.props.history.push('/')\r\n        this.props.deleteBlog(deleteBlog, this.props.theUser.token)\r\n      }\r\n    }\r\n    catch (exception) {\r\n      this.props.notify('Error deleting blog', 'error', 5)\r\n    }\r\n  }\r\n\r\n  commentThisBlog = async (event) => {\r\n    event.preventDefault()\r\n    let blogId = event.target.getAttribute('id')\r\n    let blog = this.props.blogs.find((element) => {\r\n      return element.id === blogId\r\n    })\r\n    try {\r\n      if (this.state.newComment !== undefined && this.state.newComment !== '') {\r\n        let comment = this.state.newComment\r\n        await this.props.commentBlog(blog, comment)\r\n        this.setState({ newComment: '' })\r\n        this.props.notify(`comment: \"${comment}\" added`, 'info', 5)\r\n      }\r\n    }\r\n    catch (exception) {\r\n      this.props.notify('Error commenting blog', 'error', 5)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let blog = this.props.blogs.find(a => a.id === this.props.blogId)\r\n    if (blog.comments === undefined) blog.comments = []\r\n    let showDeleteButton = { display: '' }\r\n    let userName = null\r\n    if (blog && blog.user) {\r\n      userName = blog.user.name\r\n      if (this.props.theUser && this.props.theUser.name !== blog.user.name) {\r\n        showDeleteButton = { display: 'none' }\r\n      }\r\n    }\r\n    let showUser = { display: userName ? '' : 'none' }\r\n\r\n    if (blog) {\r\n      return (\r\n        <div>\r\n          <Notification />\r\n          <h2>{blog.title}</h2>\r\n          <div className='blogDetail'>\r\n            <a href={blog.url}>{blog.url}</a><br />\r\n            <a>{blog.likes} likes <button id={blog.id} onClick={this.likeThisBlog}>like</button></a><br />\r\n            <a style={showUser}>added by {userName}</a><br />\r\n            <button style={showDeleteButton} id={blog.id} onClick={this.deleteThisBlog}>delete</button>\r\n          </div>\r\n          <div>\r\n            <h3>Comments</h3>\r\n            <ListGroup>\r\n              {blog.comments.map(comment => <ListGroupItem key={comment}>{comment}</ListGroupItem>)}\r\n            </ListGroup>\r\n          </div>\r\n          <FormGroup>\r\n            <div>\r\n              <FormControl type='text' value={this.state.newComment} onChange={this.handleCommentChange} />\r\n              <br />\r\n              <Button id={blog.id} onClick={this.commentThisBlog} bsStyle='primary' block>add comment</Button>\r\n            </div>\r\n          </FormGroup>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (<div></div>)\r\n    }\r\n  }\r\n}\r\n\r\nBlog.propTypes = {\r\n  blogId: PropTypes.string.isRequired\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blogs.blogs,\r\n    theUser: state.users.user\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  notify,\r\n  likeBlog,\r\n  deleteBlog,\r\n  commentBlog\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Blog)\r\n","// @flow\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Table } from 'react-bootstrap'\r\n\r\nclass Users extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Users</h3>\r\n        <Table striped bordered condensed>\r\n          <tbody>\r\n            <tr><td></td><td>blogs added</td></tr>\r\n            {this.props.users\r\n              .map(user =>\r\n                <tr key={user.id}>\r\n                  <td><Link to={`/users/${user.id}`}>{user.name}</Link></td><td>{user.blogs.length}</td>\r\n                </tr>\r\n              )}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.users.users\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Users)\r\n","// @flow\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { ListGroup, ListGroupItem } from 'react-bootstrap'\r\n\r\nexport class User extends React.Component {\r\n\r\n  logout = (event) => {\r\n    event.preventDefault()\r\n    window.localStorage.removeItem('blogUser')\r\n    window.location.reload()\r\n  }\r\n\r\n  getTheBlogs = (userId) => {\r\n    let theBlogs = []\r\n    this.props.blogs.forEach(element => {\r\n      if (element.user && element.user._id === userId) {\r\n        theBlogs.push(element)\r\n      }\r\n    })\r\n    return (theBlogs)\r\n  }\r\n\r\n  render() {\r\n    let theUser = this.props.users.find(a => a.id === this.props.userId)\r\n    return (\r\n      <div>\r\n        <h2>{theUser.name}</h2>\r\n        <h3>Added blogs</h3>\r\n        <ListGroup>\r\n          {this.getTheBlogs(this.props.userId).map(blog => <ListGroupItem key={blog.id}>{blog.title} by {blog.author}</ListGroupItem>)}\r\n        </ListGroup>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nUser.propTypes = {\r\n  blogs: PropTypes.array.isRequired\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    blogs: state.blogs.blogs,\r\n    users: state.users.users,\r\n    userId: ownProps.theUserId\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(User)\r\n","// @flow\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Login from './containers/Login'\r\nimport Logout from './containers/Logout'\r\nimport Blogs from './containers/Blogs'\r\nimport Blog from './containers/Blog'\r\nimport Users from './containers/Users'\r\nimport User from './containers/User'\r\nimport { initializeBlogs } from './reducers/blogReducer'\r\nimport { initializeUsers, setUser } from './reducers/userReducer'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\n\r\n\r\nexport class App extends React.Component {\r\n\r\n  async componentDidMount() {\r\n    await this.props.initializeBlogs()\r\n    await this.props.initializeUsers()\r\n    const loggedUserJSON = window.localStorage.getItem('blogUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.props.setUser(user)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.theUser === null) {\r\n      return (\r\n        <div className=\"container\">\r\n          <Login />\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <Router>\r\n          <div className=\"container\">\r\n            <Logout />\r\n            <Route exact path=\"/\" render={() => <Blogs />} />\r\n            <Route exact path=\"/blogs/:id\" render={({ match, history }) =>\r\n              <Blog blogId={match.params.id} history={history}></Blog>}\r\n            />\r\n            <Route exact path=\"/users\" render={() => <Users />} />\r\n            <Route exact path=\"/users/:id\" render={({ match }) =>\r\n              <User theUserId={match.params.id} />}\r\n            />\r\n          </div>\r\n        </Router>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    theUser: state.users.user\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  initializeBlogs,\r\n  initializeUsers,\r\n  setUser\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport blogReducer from './reducers/blogReducer'\r\nimport userReducer from './reducers/userReducer'\r\n\r\nconst reducer = combineReducers({\r\n  blogs: blogReducer,\r\n  users: userReducer,\r\n  notification: notificationReducer\r\n})\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\nimport store from './store'\r\nimport { Provider } from 'react-redux'\r\n\r\n\r\nconst render = () => {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n  )\r\n}\r\n\r\nstore.subscribe(render)\r\nrender()\r\n"],"sourceRoot":""}